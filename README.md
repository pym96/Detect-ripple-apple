# 苹果分析微信小程序

这是一个使用ONNX模型进行苹果成熟度和腐烂检测的微信小程序。

## 功能特点

- 📱 三个主要界面：主页、相机拍摄和图片上传
- 📷 支持实时拍摄苹果图片进行分析
- 🖼️ 支持从相册选择苹果图片进行分析
- 🔍 使用ONNX模型分析苹果，识别其成熟度和是否腐烂
- 📊 可视化显示检测结果，包括边界框和置信度

## 模型分类

模型可以识别以下类别的苹果：

- 100%成熟度
- 50%成熟度
- 75%成熟度
- 腐烂苹果

## 技术实现

- 使用微信小程序原生开发
- 图像预处理：使用Canvas进行图像缩放和格式转换
- 模型推理：使用ONNX.js在小程序中运行AI模型
- 结果可视化：在图像上绘制边界框，并显示分类结果

## 如何使用

1. 打开微信开发者工具
2. 导入项目
3. 模型文件位于`/assets/best.onnx`
4. 运行项目

## 开发者说明

在实际使用中，您可能需要：

1. 根据实际情况修改`utils/modelService.js`中的模型加载和处理逻辑
2. 调整`utils/onnxUtils.js`中的图像预处理参数，以适应您的具体模型
3. 如果需要在真实设备上使用，可能需要将模型部署到云端服务器，通过API调用

## 项目结构

```
├── app.js              # 应用程序入口
├── app.json            # 应用程序配置
├── app.wxss            # 应用程序样式
├── backend/assets/             # 资源文件
│   ├── best.onnx       # ONNX模型文件
|   ├── flask_inference.py #后端api处理
├── pages/              # 页面文件
│   ├── index/          # 主页
│   ├── camera/         # 相机页面
│   └── upload/         # 上传页面
└── utils/              # 工具函数
    ├── modelService.js # 模型服务
    └── onnxUtils.js    # ONNX工具函数
```